<html>

  <head>
    <title>365 Entertainment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="img/365ep.jpg" type="image/png" sizes="16x20">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css">


  </head>

  <body>

    <div class="container">
<!--********************************************************************Navbar part1 starts****************************************************************************-->
      <header>

        <div class="navigation">

          <a class="links" href="index.html"><img class="logo" src="img/365ep.jpg" alt="365 Entertainment"/></a>
          <a class="links text" href="#">Movies</a>
          <a class="links text" href="#tv_series">TV Series</a>
          <a class="links text" href="#audio">Audio</a>


        </div>

        <div class="bar"></div>

      </header>
    </div>
<!--**********************************************************************Navbar part1 ends****************************************************************************-->

<!--*********************************************************************Carousel Part1 Starts**************************************************************************-->      
      <div class="content">

        <div class="head-content">

          <div class="slideshow-container">
            <div class="slides">
              <img src="C1img/1.jpg" alt="Tandav">
            </div>

            <div class="slides">
              <img src="C1img/2.jpg" alt="Criminal Justice">
            </div>

            <div class="slides">
              <img src="C1img/3.jpg" alt="Kaagaz">
            </div>

            <div class="slides">
              <img src="C1img/4.jpg" alt="Jeet ki Zid">
            </div>

            <div class="slides">
              <img src="C1img/5.jpg" alt="Covid-21 Lethal Virus">
            </div>

            <a class="prev" onclick="plusSlides(-1, 0)">&#10094;</a>
            <a class="next" onclick="plusSlides(1, 0)">&#10095;</a>
          </div>

        </div>
<!--********************************************************************Carousel Part1 Ends***************************************************************************-->


<!--********************************************************************Navbar part2 starts****************************************************************************-->
        <div class="dropdown">
          <button id="dropbtn" onclick="toggleGenreList()"><span id="genreText">Genre</span><i class="fa fa-caret-down"></i></button>
          <div id="dropdown-content">
            <a onclick="getMediaPosters(this.text)">All</a>
            <a onclick="getMediaPosters(this.text)">Action</a>
            <a onclick="getMediaPosters(this.text)">Drama</a>
            <a onclick="getMediaPosters(this.text)">Sci-Fi</a>
          </div>

        </div>


        <div class="search-container">
          <form onsubmit="javascript:return false;">
            <input type="text" class="input-medium search-query" placeholder="Search your favourite movie title" name="search" oninput="updateResults()">

            <div class="search-container-button">
              <button type="submit" onclick="updateResults()"><i class="fa fa-search"></i></button>
            </div>

          </form>
        </div>
<!--**********************************************************************Navbar part2 ends****************************************************************************-->

<!--***********************************************************************Genre part Starts***************************************************************************-->        
        <div id="media-carousel-container">

<!--*********************************************************************Action Genre Starts***************************************************************************-->
          <div id="media-holder-action">

            <div id="image-container-action">
              <div class="movies-action">
                <div class="media-carousel-movies">
                  <img src="aimg/1.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">Khuda Haafiz</b><br/>Indian Hindi-language action thriller film.</div>
                </div>
                <div class="media-carousel-movies">
                  <img src="aimg/2.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">Batman:Soul Of The Dragon</b><br/>American animated direct-to-video superhero film.</div>
                </div>
                <div class="media-carousel-movies">
                  <img src="aimg/3.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">Dear Comrade</b><br/>Indian Telugu-language film written and directed by Bharat Kamma.</div>
                </div>
                <div class="media-carousel-movies">
                  <img src="aimg/4.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">Bad Boys For Life</b><br/>2020 action comedy film that is the sequel to Bad Boys II.</div>
                </div>
                <div class="media-carousel-movies">
                  <img src="aimg/5.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">Train to Busan 2</b><br/>South Korean film on zombies.</div>
                </div>
                <div class="media-carousel-movies">
                  <img src="aimg/6.jpg" alt="media carousel" width=200 height=200 />
                  <div class="overlay"><b class="movie-title">URI The Surgical Strike</b><br/>Based on true events.</div>
                </div>
              </div>
<!--*********************************************************************Action Genre Ends***************************************************************************-->

              </div>
            </div>
          </div>
          <div id="no-results">No Results Found.</div>
        </div>
      </div>

    </div>
<!--************************************************************************Genre Part Ends****************************************************************************-->

<!--**********************************************************************Footer Part Starts***************************************************************************-->
    <footer>

      <div class="copyright">
        <a class="links" href="index.html"><img class="logo" src="img/365ep.jpg" alt="365 Entertainment Portal"/></a>
        <div class="text">Powered by 365 Entertainment Portal 2019. All Rights Reserved.</div>
      </div>

    </footer>
<!--***********************************************************************Footer Part Ends****************************************************************************-->  
    
    <script>
        
        var movieTitle;    
        var currentGenre = "Genre";
        var slideIndex = [1,1];
                        showSlides(1, 0);
                
                        function plusSlides(n, no) {
                                showSlides(slideIndex[no] += n, no);
                        }
                
                        function showSlides(n, no) {                        
                                var x = document.getElementsByClassName("slides");

                                if (n > x.length) {slideIndex[no] = 1}    
                                
                                if (n < 1) {slideIndex[no] = x.length}
                                
                                for (var i = 0; i < x.length; i++) {
                                        x[i].style.display = "none";  
                                }
                                
                                x[slideIndex[no]-1].style.display = "block";  
                        }
        
        function showNoResultsText(totalcount){
                
                if(totalcount == 0){
                        document.getElementById("no-results").style.display="block";
                        console.log('totalcount in showNoResultsText' + totalcount);
                }
                else    {
                        document.getElementById("no-results").style.display="none";
                }
                
        }


                function updateResults() {
                var query = document.getElementsByClassName('search-query')[0].value.trim().toLowerCase(); 
                var counter = 0;                                                           

                if(currentGenre == 'All'|| currentGenre == 'Genre'){
                        movieTitle = document.getElementsByClassName('movie-title');
                }
                if(currentGenre == 'Action'){
                        movieTitle = document.getElementsByClassName('movies-action')[0].getElementsByClassName('movie-title');
                }
                if(currentGenre == 'Drama'){
                        movieTitle = document.getElementsByClassName('movies-drama')[0].getElementsByClassName('movie-title');                                
                }
                if(currentGenre == 'Sci-Fi'){
                        movieTitle = document.getElementsByClassName('movies-scifi')[0].getElementsByClassName('movie-title');                        
                }


                for(var name=0; name< movieTitle.length; name++){
                    var compareMovieTitles = movieTitle[name].innerHTML.toLowerCase();
                
                        if(compareMovieTitles.indexOf(query) === -1){
                                movieTitle[name].closest('div.media-carousel-movies').style.display="none";                                                        
                        }
                        else {
                                movieTitle[name].closest('div.media-carousel-movies').style.display="block";
                                counter++;
                        }                    
                }

                showNoResultsText(counter);                
        }

                /* When the user clicks on the button, toggle between hiding and showing the dropdown content */
                function toggleGenreList() {
                        document.getElementById("dropdown-content").classList.toggle("show");                        
                }

                // Close the dropdown if the user clicks outside of it
                window.onclick = function(e) {
                        
                        if (!e.target.matches('#dropbtn')) {                

                                var dropdownContent = document.getElementById("dropdown-content");
                        
                                if (dropdownContent.classList.contains('show')) {
                                        dropdownContent.classList.remove('show');
                                }
                        }
                }

                function getMediaPosters(selectedGenre){
                        var countMovies = 0; 
                        var mediaCarouselMovies;            
                        currentGenre = selectedGenre;                                              
                        document.getElementById("genreText").innerHTML = selectedGenre;

                        if(selectedGenre == 'All'){
                            document.getElementsByClassName('movies-action')[0].style.display="block";    
                            document.getElementsByClassName('movies-action')[0].style.display="block";
                            document.getElementsByClassName('movies-drama')[0].style.display="block";
                            document.getElementsByClassName('movies-scifi')[0].style.display="block";  
                            mediaCarouselMovies = document.getElementsByClassName("media-carousel-movies");                             
                        }
                        if(selectedGenre == 'Action'){
                            document.getElementsByClassName('movies-action')[0].style.display="block";
                            document.getElementsByClassName('movies-drama')[0].style.display="none";
                            document.getElementsByClassName('movies-scifi')[0].style.display="none";
                            mediaCarouselMovies = document.getElementsByClassName('movies-action')[0].getElementsByClassName("media-carousel-movies");                           
                        }
                        if(selectedGenre == 'Drama'){
                            document.getElementsByClassName('movies-action')[0].style.display="none";
                            document.getElementsByClassName('movies-drama')[0].style.display="block";                            
                            document.getElementsByClassName('movies-scifi')[0].style.display="none"; 
                            mediaCarouselMovies = document.getElementsByClassName('movies-drama')[0].getElementsByClassName("media-carousel-movies");                               
                        }
                        if(selectedGenre == 'Sci-Fi'){
                            document.getElementsByClassName('movies-action')[0].style.display="none";
                            document.getElementsByClassName('movies-drama')[0].style.display="none";
                            document.getElementsByClassName('movies-scifi')[0].style.display="block";
                            mediaCarouselMovies = document.getElementsByClassName('movies-scifi')[0].getElementsByClassName("media-carousel-movies");
                        }                        

                        
                                var mediaCarouselMoviesCount = mediaCarouselMovies.length;
                                
                                for(var count = 0; count<mediaCarouselMoviesCount; count++){
                                        if(mediaCarouselMovies[count].style.display == "block")
                                                countMovies++;
                                }
                                console.log(countMovies);                                
                        
                                showNoResultsText(countMovies);
                }
        
        </script> 

  </body>
</html>  